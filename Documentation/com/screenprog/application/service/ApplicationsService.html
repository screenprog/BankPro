<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sun Dec 29 15:38:15 IST 2024 -->
<title>ApplicationsService</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-12-29">
<meta name="description" content="declaration: package: com.screenprog.application.service, class: ApplicationsService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ApplicationsService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.screenprog.application.service</a></div>
<h1 title="Class ApplicationsService" class="title">Class ApplicationsService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.screenprog.application.service.ApplicationsService</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Service
</span><span class="modifiers">public class </span><span class="element-name type-name-label">ApplicationsService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Service class responsible for managing and processing applications in the system.
 This class provides functionalities to update the status of applications, register
 customers based on verified applications, and save customer credentials.

 <p>The ApplicationsService class interacts with various repositories and services
 to perform operations related to applications and customers. It handles the
 processing of applications in parallel for efficiency and sends notification emails
 to customers based on the status of their applications.</p>

 <p>Annotations:</p>
 <ul>
   <li>@Service: Indicates that this class is a Spring service component, which
   provides business logic for application management.</li>
   <li>@Transactional: Ensures that database operations within the methods are
   executed within a transaction context.</li>
 </ul>

 <p>Fields:</p>
 <ul>
   <li>emailService: The service responsible for sending emails to customers.</li>
   <li>applicationsRepository: Repository for accessing and managing application
   data.</li>
   <li>customerRepository: Repository for accessing and managing customer data.</li>
   <li>usersRepository: Repository for accessing and managing user data.</li>
 </ul>

 <p>Constructor:</p>
 <p>The constructor initializes the class with the required dependencies for
 managing applications and customers. It sets up the email service and the
 necessary repositories for data access and manipulation.</p>

 <p>Responsibilities:</p>
 <ul>
   <li>Update the status of applications and perform specific actions based on
   the updated status.</li>
   <li>Register customers from verified applications and save their credentials
   in the database.</li>
   <li>Send notification emails to customers based on their application status.</li>
   <li>Retrieve pending applications from the repository for further processing.</li>
 </ul>

 <p>Usage:</p>
 <p>This service can be used by controllers or other services to handle application
 and customer-related operations. It ensures that applications are processed
 efficiently and customers are notified appropriately regarding their application
 status.</p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../email_service/EmailService.html" title="class in com.screenprog.application.email_service"><code>EmailService</code></a></li>
<li><a href="../repo/ApplicationsRepository.html" title="interface in com.screenprog.application.repo"><code>ApplicationsRepository</code></a></li>
<li><a href="../repo/CustomerRepository.html" title="interface in com.screenprog.application.repo"><code>CustomerRepository</code></a></li>
<li><a href="../repo/UsersRepository.html" title="interface in com.screenprog.application.repo"><code>UsersRepository</code></a></li>
<li><a href="../model/Application.html" title="class in com.screenprog.application.model"><code>Application</code></a></li>
<li><a href="../model/Customer.html" title="class in com.screenprog.application.model"><code>Customer</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.screenprog.application.email_service.EmailService,com.screenprog.application.repo.ApplicationsRepository,com.screenprog.application.repo.CustomerRepository,com.screenprog.application.repo.UsersRepository)" class="member-name-link">ApplicationsService</a><wbr>(<a href="../email_service/EmailService.html" title="class in com.screenprog.application.email_service">EmailService</a>&nbsp;emailService,
 <a href="../repo/ApplicationsRepository.html" title="interface in com.screenprog.application.repo">ApplicationsRepository</a>&nbsp;applicationsRepository,
 <a href="../repo/CustomerRepository.html" title="interface in com.screenprog.application.repo">CustomerRepository</a>&nbsp;customerRepository,
 <a href="../repo/UsersRepository.html" title="interface in com.screenprog.application.repo">UsersRepository</a>&nbsp;usersRepository)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for ApplicationsService</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPendingApplications()" class="member-name-link">getPendingApplications</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of pending applications from the repository.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../model/Customer.html" title="class in com.screenprog.application.model">Customer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerCustomer(com.screenprog.application.dtos.CustomerDTO,byte%5B%5D)" class="member-name-link">registerCustomer</a><wbr>(<a href="../dtos/CustomerDTO.html" title="class in com.screenprog.application.dtos">CustomerDTO</a>&nbsp;customerDTO,
 byte[]&nbsp;image)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is used to save the customer credentials after verifying the application.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateApplications(java.util.List)" class="member-name-link">updateApplications</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;&nbsp;applications)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method updates the status of a list of applications and performs specific actions
 based on the updated status.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.screenprog.application.email_service.EmailService,com.screenprog.application.repo.ApplicationsRepository,com.screenprog.application.repo.CustomerRepository,com.screenprog.application.repo.UsersRepository)">
<h3>ApplicationsService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ApplicationsService</span><wbr><span class="parameters">(<a href="../email_service/EmailService.html" title="class in com.screenprog.application.email_service">EmailService</a>&nbsp;emailService,
 <a href="../repo/ApplicationsRepository.html" title="interface in com.screenprog.application.repo">ApplicationsRepository</a>&nbsp;applicationsRepository,
 <a href="../repo/CustomerRepository.html" title="interface in com.screenprog.application.repo">CustomerRepository</a>&nbsp;customerRepository,
 <a href="../repo/UsersRepository.html" title="interface in com.screenprog.application.repo">UsersRepository</a>&nbsp;usersRepository)</span></div>
<div class="block">Constructor for ApplicationsService</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>emailService</code> - EmailService</dd>
<dd><code>applicationsRepository</code> - ApplicationsRepository</dd>
<dd><code>customerRepository</code> - CustomerRepository</dd>
<dd><code>usersRepository</code> - UsersRepository</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../email_service/EmailService.html" title="class in com.screenprog.application.email_service"><code>EmailService</code></a></li>
<li><a href="../repo/ApplicationsRepository.html" title="interface in com.screenprog.application.repo"><code>ApplicationsRepository</code></a></li>
<li><a href="../repo/CustomerRepository.html" title="interface in com.screenprog.application.repo"><code>CustomerRepository</code></a></li>
<li><a href="../repo/UsersRepository.html" title="interface in com.screenprog.application.repo"><code>UsersRepository</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getPendingApplications()">
<h3>getPendingApplications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;</span>&nbsp;<span class="element-name">getPendingApplications</span>()</div>
<div class="block">Retrieves a list of pending applications from the repository.
 The pending applications can then be further processed or analyzed by other components of the
 application.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a list of pending Application objects</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../repo/ApplicationsRepository.html#findAllPendingApplications()"><code>ApplicationsRepository.findAllPendingApplications()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateApplications(java.util.List)">
<h3>updateApplications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;</span>&nbsp;<span class="element-name">updateApplications</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../model/Application.html" title="class in com.screenprog.application.model">Application</a>&gt;&nbsp;applications)</span></div>
<div class="block">This method updates the status of a list of applications and performs specific actions
 based on the updated status. It filters out applications with a status of NON_VERIFIED
 and sends a notification email to VERIFIED and NON_VERIFIED applications indicating their status.
 The method processes the applications in parallel for efficiency.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>applications</code> - List of Application objects to be updated</dd>
<dt>Returns:</dt>
<dd>List of Application objects after being saved to the repository</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../model/Application.html" title="class in com.screenprog.application.model"><code>Application</code></a></li>
<li><a href="../model/Application.html#toApplicationNotVerifiedEmail()"><code>Application.toApplicationNotVerifiedEmail()</code></a></li>
<li><a href="../model/Customer.html#toApplicationVerifiedEmail()"><code>Customer.toApplicationVerifiedEmail()</code></a></li>
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()" title="class or interface in java.util.concurrent" class="external-link"><code>Executors.newVirtualThreadPerTaskExecutor()</code></a></li>
<li><a href="../model/ApplicationStatus.html" title="enum class in com.screenprog.application.model"><code>ApplicationStatus</code></a></li>
<li><a href="../email_service/EmailService.html#sendEmail(com.screenprog.application.email_service.EmailDTO)"><code>EmailService.sendEmail(com.screenprog.application.email_service.EmailDTO)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerCustomer(com.screenprog.application.dtos.CustomerDTO,byte[])">
<h3>registerCustomer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Customer.html" title="class in com.screenprog.application.model">Customer</a></span>&nbsp;<span class="element-name">registerCustomer</span><wbr><span class="parameters">(<a href="../dtos/CustomerDTO.html" title="class in com.screenprog.application.dtos">CustomerDTO</a>&nbsp;customerDTO,
 byte[]&nbsp;image)</span></div>
<div class="block">This method is used to save the customer credentials after verifying the application.
 It takes the customerDTO and the image of the customer then it creates a customer object
 and saves it in the database, then it creates the user credentials and saves them in the
 database by calling the saveCredentials method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>customerDTO</code> - CustomerDTO object containing the customer details</dd>
<dd><code>image</code> - the image of the customer in bytes</dd>
<dt>Returns:</dt>
<dd>the saved Customer object</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../dtos/CustomerDTO.html" title="class in com.screenprog.application.dtos"><code>CustomerDTO</code></a></li>
<li><a href="../model/Customer.html" title="class in com.screenprog.application.model"><code>Customer</code></a></li>
<li><a href="../model/Users.html" title="class in com.screenprog.application.model"><code>Users</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
